## 关系数据库

##### 关系数据结构及形式化定义

##### 关系

域，笛卡尔积，关系

==三类关系==：基本关系，查询表，视图表

###### 基本关系的性质：

列是同质的

不同的列可出自同一个域：其中的每一列称为一个属性 **·** 不同的属性要给予不同的属性名

列的顺序无所谓,，列的次序可以任意交换

任意两个元组的候选码不能相同

行的顺序无所谓，行的次序可以任意交换

分量必须取原子值

##### 关系模式

关系模式（Relation Schema）是型，关系是值：**关系模式是对关系的描述**

关系模式可以形式化地表示为：R（**U**，D，DOM，F）

关系模式通常可以简记为： 	R (**U**)    或    R (A1，A2，…，An)

![image-20240227093845680](C:\Users\10263\AppData\Roaming\Typora\typora-user-images\image-20240227093845680.png)

**关系数据库**

在一个给定的应用领域中，所有关系的集合构成一个关系数据库

关系数据库的型与值：

​	关系数据库的型: 关系数据库模式，是对关系数据库的描述

​	关系数据库的值: 关系模式在某一时刻对应的关系的集合，通常称为关系数据库

##### 关系模型的存储结构

​	关系数据库的物理组织

有的关系数据库管理系统中一个表对应一个操作系统文件，将**物理数据组织交给操作系统**完成

有的关系数据库管理系统从操作系统那里申请若干个大的文件，**自己**划分文件空间，组织表、索引等存储结构，并进行存储管理



#### 关系操作

查询：**选择**、**投影**、连接、除、**并**、**差**、交、**笛卡尔积**

更新：插入、删除、修改

集合操作方式：操作的对象和结果都是集合，一次一集合的方式

关系操作语言分类：关系代数语言，关系演算语言，具有关系代数和关系演算双重特点的语言（SQL）



#### 关系的完整性

实体完整性和参照完整性：关系模型必须满足的完整性约束条件称为关系的两个不变性，应该由关系系统自动支持

用户定义的完整性：应用领域需要遵循的约束条件，体现了具体领域中的语义约束 

实体完整性规则：

​	若属性A是基本关系R的主属性，则属性A不能取空值

​	空值就是“不知道”或“不存在”或“无意义”的值

参照完整性：

​	关系间的引用![image-20240227100934971](C:\Users\10263\AppData\Roaming\Typora\typora-user-images\image-20240227100934971.png)

###### 外码：

设**F是基本关系R**的一个或一组属性，但**不是关系R的码**。如果F与**基本关系S的主码Ks**相对应，则称F是R的外码

基本关系R称为**参照关系**，基本关系S称为**被参照关**系或**目标关系**	

1.关系R和S不一定是不同的关系

2.目标关系S的主码Ks 和参照关系的外码F必须定义在同一个（或一组）域上

3.外码并不一定要与相应的主码同名

参照完整性规则：若属性（或属性组）F是基本关系R的外码它与基本关系S的主码Ks相对应（基本关系R和S不一定是不同的关系），则对于R中每个元组在F上的值必须为：

1.或者取空值（F的每个属性值均为空值）

2.或者等于S中某个元组的主码值

（必须在S中被找到）

##### 用户定义的完整性

针对某一具体关系数据库的约束条件，反映某一具体应用所涉及的数据必须满足的语义要求

**关系模型**应提供定义和检验这类完整性的机制，以便用统一的系统的方法处理它们，而不需由**应用程序**承担这一功能

关系代数：关系代数是一种抽象的查询语言，它用对关系的运算来表达查询

关系代数；

​	运算对象是关系

​	运算结果亦为关系

​	关系代数的运算符有两类：集合运算符和专门的关系运算符

​	传统的集合运算是从关系的“水平”方向即行的角度进行（并，差，交，积），

​	专门的关系运算不仅涉及而且涉及列（选择，连接，投影，除）

**并**

**差**

交

**积**

**选择**

连接

**投影**

除

**关系代数表达式**：关系代数运算经有限次复合后形成的式子





